   1              		.file	"main.c"
   9              	.Ltext0:
  10              		.global	btn1
  11              		.bss
  12              		.align	2
  15              	btn1:
  16 0000 00000000 		.space	4
  17              		.global	btn2
  18              		.align	2
  21              	btn2:
  22 0004 00000000 		.space	4
  23              		.global	btn3
  24              		.align	2
  27              	btn3:
  28 0008 00000000 		.space	4
  29              		.text
  30              		.align	2
  31              		.global	get_Button
  33              	get_Button:
  34              	.LFB2:
  35              		.file 1 "main.c"
   1:main.c        **** /*
   2:main.c        ****  * main.c
   3:main.c        ****  *
   4:main.c        ****  *  Created on: 14.12.2018
   5:main.c        ****  *      Author: Lukas Reining
   6:main.c        ****  */
   7:main.c        **** 
   8:main.c        **** #include "include/AT91SAM7S64.h"
   9:main.c        **** #include "include/display.h"
  10:main.c        **** 
  11:main.c        **** 
  12:main.c        **** #define		BUTTON1	AT91C_PIO_PA1
  13:main.c        **** #define		BUTTON2	AT91C_PIO_PA0
  14:main.c        **** #define		BUTTON3	AT91C_PIO_PA31
  15:main.c        **** 
  16:main.c        **** int btn1 = 0, btn2 = 0, btn3 = 0;
  17:main.c        **** 
  18:main.c        **** unsigned char get_Button() {
  36              	 0, frame = 0
  37              		@ frame_needed = 1, uses_anonymous_args = 0
  38              		mov	ip, sp
  39 0000 0DC0A0E1 	.LCFI0:
  40              		stmfd	sp!, {fp, ip, lr, pc}
  41 0004 00D82DE9 	.LCFI1:
  42              		sub	fp, ip, #4
  43 0008 04B04CE2 	.LCFI2:
  44              		.loc 1 19 0
  19:main.c        **** 	btn1 = (AT91C_BASE_PIOA->PIO_PDSR & BUTTON1) >> 1;
  45              	#-1610612736
  46 000c 0A32A0E3 		mov	r3, r3, asr #19
  47 0010 C339A0E1 		ldr	r3, [r3, #60]
  48 0014 3C3093E5 		and	r3, r3, #2
  49 0018 023003E2 		mov	r3, r3, lsr #1
  50 001c A330A0E1 		mov	r2, r3
  51 0020 0320A0E1 		ldr	r3, .L3
  52 0024 88309FE5 		str	r2, [r3, #0]
  53 0028 002083E5 		.loc 1 20 0
  20:main.c        **** 	btn2 = (AT91C_BASE_PIOA->PIO_PDSR & BUTTON2);
  54              	#-1610612736
  55 002c 0A32A0E3 		mov	r3, r3, asr #19
  56 0030 C339A0E1 		ldr	r3, [r3, #60]
  57 0034 3C3093E5 		and	r2, r3, #1
  58 0038 012003E2 		ldr	r3, .L3+4
  59 003c 74309FE5 		str	r2, [r3, #0]
  60 0040 002083E5 		.loc 1 21 0
  21:main.c        **** 	btn3 = (AT91C_BASE_PIOA->PIO_PDSR & BUTTON3) >> 31;
  61              	, #-1610612736
  62 0044 0A32A0E3 		mov	r3, r3, asr #19
  63 0048 C339A0E1 		ldr	r3, [r3, #60]
  64 004c 3C3093E5 		mov	r3, r3, lsr #31
  65 0050 A33FA0E1 		mov	r2, r3
  66 0054 0320A0E1 		ldr	r3, .L3+8
  67 0058 5C309FE5 		str	r2, [r3, #0]
  68 005c 002083E5 		.loc 1 22 0
  22:main.c        **** 	return (~(btn1 | (btn2<<1) | (btn3 << 2))) & 0b111;
  69              	 .L3+4
  70 0060 50309FE5 		ldr	r3, [r3, #0]
  71 0064 003093E5 		mov	r3, r3, asl #1
  72 0068 8330A0E1 		and	r2, r3, #255
  73 006c FF2003E2 		ldr	r3, .L3
  74 0070 3C309FE5 		ldr	r3, [r3, #0]
  75 0074 003093E5 		and	r3, r3, #255
  76 0078 FF3003E2 		orr	r3, r2, r3
  77 007c 033082E1 		and	r2, r3, #255
  78 0080 FF2003E2 		ldr	r3, .L3+8
  79 0084 30309FE5 		ldr	r3, [r3, #0]
  80 0088 003093E5 		mov	r3, r3, asl #2
  81 008c 0331A0E1 		and	r3, r3, #255
  82 0090 FF3003E2 		orr	r3, r2, r3
  83 0094 033082E1 		and	r3, r3, #255
  84 0098 FF3003E2 		mvn	r3, r3
  85 009c 0330E0E1 		and	r3, r3, #255
  86 00a0 FF3003E2 		and	r3, r3, #255
  87 00a4 FF3003E2 		and	r3, r3, #7
  88 00a8 073003E2 		.loc 1 23 0
  23:main.c        **** }
  89              	p, {fp, sp, pc}
  90 00ac 0300A0E1 	.L4:
  91 00b0 00A89DE8 		.align	2
  92              	.L3:
  93              		.word	btn1
  94              		.word	btn2
  95 00b4 00000000 		.word	btn3
  96 00b8 00000000 	.LFE2:
  98              		.section	.rodata
  99              		.align	2
 100              	.LC0:
 101              		.ascii	"%d\000"
 102              		.align	2
 103 0000 256400   	.LC1:
 104 0003 00       		.ascii	"B1:%d B2:%d B2:%d\000"
 105              		.text
 106 0004 42313A25 		.align	2
 106      64204232 
 106      3A256420 
 106      42323A25 
 106      6400
 107 0016 0000     		.global	main
 109              	main:
 110              	.LFB3:
 111              		.loc 1 25 0
 112              		@ args = 0, pretend = 0, frame = 0
  24:main.c        **** 
  25:main.c        **** int main(void) {
 113              	s_anonymous_args = 0
 114              		mov	ip, sp
 115              	.LCFI3:
 116 00c0 0DC0A0E1 		stmfd	sp!, {fp, ip, lr, pc}
 117              	.LCFI4:
 118 00c4 00D82DE9 		sub	fp, ip, #4
 119              	.LCFI5:
 120 00c8 04B04CE2 		.loc 1 26 0
 121              		mov	r3, #-2147483648
  26:main.c        **** 	AT91C_BASE_PMC->PMC_PCER = (1 << AT91C_ID_PIOA);
 122              	r3, asr #21
 123 00cc 0231A0E3 		mov	r2, #4
 124 00d0 C33AA0E1 		str	r2, [r3, #16]
 125 00d4 0420A0E3 		.loc 1 27 0
 126 00d8 102083E5 		bl	display_init
  27:main.c        **** 	display_init();
 127              		.loc 1 29 0
 128 00dc FEFFFFEB 		mov	r0, #0
 129              		mov	r1, #0
  28:main.c        **** 	while (1) {
  29:main.c        **** 		display_set_cursor(0, 0);
 130              		display_set_cursor
 131 00e0 0000A0E3 		.loc 1 30 0
 132 00e4 0010A0E3 		bl	get_Button
 133 00e8 FEFFFFEB 		mov	r3, r0
  30:main.c        **** 		display_printf("%d", get_Button());
 134              		r0, .L8
 135 00ec FEFFFFEB 		mov	r1, r3
 136 00f0 0030A0E1 		bl	display_printf
 137 00f4 34009FE5 		.loc 1 31 0
 138 00f8 0310A0E1 		mov	r0, #0
 139 00fc FEFFFFEB 		mov	r1, #1
  31:main.c        **** 		display_set_cursor(0, 1);
 140              	splay_set_cursor
 141 0100 0000A0E3 		.loc 1 32 0
 142 0104 0110A0E3 		ldr	r3, .L8+4
 143 0108 FEFFFFEB 		ldr	r1, [r3, #0]
  32:main.c        **** 		display_printf("B1:%d B2:%d B2:%d", btn1,btn2,btn3);
 144              		r3, .L8+8
 145 010c 20309FE5 		ldr	r2, [r3, #0]
 146 0110 001093E5 		ldr	r3, .L8+12
 147 0114 1C309FE5 		ldr	r3, [r3, #0]
 148 0118 002093E5 		ldr	r0, .L8+16
 149 011c 18309FE5 		bl	display_printf
 150 0120 003093E5 		b	.L6
 151 0124 14009FE5 	.L9:
 152 0128 FEFFFFEB 		.align	2
 153 012c EBFFFFEA 	.L8:
 154              		.word	.LC0
 155              		.word	btn1
 156              		.word	btn2
 157 0130 00000000 		.word	btn3
 158 0134 00000000 		.word	.LC1
 159 0138 00000000 	.LFE3:
 161 0140 04000000 		.section	.debug_frame,"",%progbits
 162              	.Lframe0:
 163              		.4byte	.LECIE0-.LSCIE0
 230              	.LLST0:
DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:15     .bss:00000000 btn1
                             .bss:00000000 $d
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:21     .bss:00000004 btn2
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:27     .bss:00000008 btn3
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:33     .text:00000000 get_Button
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:39     .text:00000000 $a
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:95     .text:000000b4 $d
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:111    .text:000000c0 main
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:116    .text:000000c0 $a
C:\Users\LUKASR~1\AppData\Local\Temp/ccTHmkBC.s:157    .text:00000130 $d

UNDEFINED SYMBOLS
display_init
display_set_cursor
display_printf
